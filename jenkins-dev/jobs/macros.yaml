#
# Configurable repository sources
#
- scm:
    name: mcpinstaller
    scm:
      - git:
         url: 'ssh://nextgen-jenkins01-bud@review.fuel-infra.org:29418/{scm-repo}'
         branches:
           - '{scm-branch}'
         basedir: '{scm-basedir}'

- scm:
    name: openstack
    scm:
      - git:
         url: 'https://git.openstack.org/openstack/{scm-repo}.git'
         branches:
           - '{scm-branch}'
         basedir: '{scm-basedir}'

- scm:
    name: fuel-infra
    scm:
      - git:
          url: 'ssh://nextgen-jenkins01-bud@review.fuel-infra.org:29418/{scm-repo}.git'
          basedir: '{scm-basedir}'
          skip-tag: true
          branches:
            - '{scm-branch}'

#
# SSH credentials
#
- wrapper:
    name: nextgen-ci-jenkins
    wrappers:
      - ssh-agent-credentials:
          users:
            - '4baabd94-8b47-45fa-813e-9e7e245c5148'

- wrapper:
    name: nextgen-ci-docs
    wrappers:
      - ssh-agent-credentials:
          users:
            - 'b9d99ceb-a62e-454b-8677-7ddf9e349492'

- wrapper:
    name: 'ng-cleanup'
    wrappers:
      - workspace-cleanup

#
# Publishers
#
- publisher:
    name: logs-private
    publishers:
      - archive:
          allow-empty: true
          artifacts: 'logs/*'
          latest-only: false

#
# Builders
#
- builder:
    name: check-tox
    builders:
      - shell: 'tox -v -e {tox-test}'
